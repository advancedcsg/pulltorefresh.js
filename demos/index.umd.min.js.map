{"version":3,"file":"index.umd.min.js","sources":["../src/lib/shared.js","../src/lib/events.js","../src/lib/api.js","../src/lib/defaults.js","../src/lib/markup.js","../src/lib/styles.js","../src/lib/setup.js","../src/lib/index.js"],"sourcesContent":["const _shared = {\r\n  pullStartY: null,\r\n  pullMoveY: null,\r\n  handlers: [],\r\n  styleEl: null,\r\n  events: null,\r\n  dist: 0,\r\n  state: 'pending',\r\n  timeout: null,\r\n  distResisted: 0,\r\n  supportsPassive: false,\r\n  supportsPointerEvents: !!window.PointerEvent,\r\n};\r\n\r\ntry {\r\n  window.addEventListener('test', null, {\r\n    get passive() { // eslint-disable-line getter-return\r\n      _shared.supportsPassive = true;\r\n    },\r\n  });\r\n} catch (e) {\r\n  // do nothing\r\n}\r\n\r\nexport default _shared;\r\n","import _ptr from './api';\r\nimport _shared from './shared';\r\n\r\nlet _timeout;\r\n\r\nconst screenY = function screenY(event) {\r\n  if (_shared.pointerEventsEnabled && _shared.supportsPointerEvents) {\r\n    return event.screenY;\r\n  }\r\n  return event.touches[0].screenY;\r\n};\r\n\r\nexport default () => {\r\n  let _el;\r\n\r\n  function _onTouchStart(e) {\r\n    // here, we must pick a handler first, and then append their html/css on the DOM\r\n    const target = _shared.handlers.filter(h => h.contains(e.target))[0];\r\n\r\n    _shared.enable = !!target;\r\n\r\n    if (target && _shared.state === 'pending') {\r\n      _el = _ptr.setupDOM(target);\r\n\r\n      if (target.shouldPullToRefresh()) {\r\n        _shared.pullStartY = screenY(e);\r\n      }\r\n\r\n      clearTimeout(_shared.timeout);\r\n\r\n      _ptr.update(target);\r\n    }\r\n  }\r\n\r\n  function _onTouchMove(e) {\r\n    if (!(_el && _el.ptrElement && _shared.enable)) {\r\n      return;\r\n    }\r\n\r\n    if (!_shared.pullStartY) {\r\n      if (_el.shouldPullToRefresh()) {\r\n        _shared.pullStartY = screenY(e);\r\n      }\r\n    } else {\r\n      _shared.pullMoveY = screenY(e);\r\n    }\r\n\r\n    if (_shared.state === 'refreshing') {\r\n      if (e.cancelable && _el.shouldPullToRefresh() && _shared.pullStartY < _shared.pullMoveY) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (_shared.state === 'pending') {\r\n      _el.ptrElement.classList.add(`${_el.classPrefix}pull`);\r\n      _shared.state = 'pulling';\r\n      _ptr.update(_el);\r\n    }\r\n\r\n    if (_shared.pullStartY && _shared.pullMoveY) {\r\n      _shared.dist = _shared.pullMoveY - _shared.pullStartY;\r\n    }\r\n\r\n    _shared.distExtra = _shared.dist - _el.distIgnore;\r\n\r\n    if (_shared.distExtra > 0) {\r\n      if (e.cancelable) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      _el.ptrElement.style[_el.cssProp] = `${_shared.distResisted}px`;\r\n\r\n      _shared.distResisted = _el.resistanceFunction(_shared.distExtra / _el.distThreshold)\r\n        * Math.min(_el.distMax, _shared.distExtra);\r\n\r\n      if (_shared.state === 'pulling' && _shared.distResisted > _el.distThreshold) {\r\n        _el.ptrElement.classList.add(`${_el.classPrefix}release`);\r\n        _shared.state = 'releasing';\r\n        _ptr.update(_el);\r\n      }\r\n\r\n      if (_shared.state === 'releasing' && _shared.distResisted < _el.distThreshold) {\r\n        _el.ptrElement.classList.remove(`${_el.classPrefix}release`);\r\n        _shared.state = 'pulling';\r\n        _ptr.update(_el);\r\n      }\r\n    }\r\n  }\r\n\r\n  function _onTouchEnd() {\r\n    if (!(_el && _el.ptrElement && _shared.enable)) {\r\n      return;\r\n    }\r\n\r\n    // wait 1/2 sec before unmounting...\r\n    clearTimeout(_timeout);\r\n    _timeout = setTimeout(() => {\r\n      if (_el && _el.ptrElement && _shared.state === 'pending') {\r\n        _ptr.onReset(_el);\r\n      }\r\n    }, 500);\r\n\r\n    if (_shared.state === 'releasing' && _shared.distResisted > _el.distThreshold) {\r\n      _shared.state = 'refreshing';\r\n\r\n      _el.ptrElement.style[_el.cssProp] = `${_el.distReload}px`;\r\n      _el.ptrElement.classList.add(`${_el.classPrefix}refresh`);\r\n\r\n      _shared.timeout = setTimeout(() => {\r\n        const retval = _el.onRefresh(() => _ptr.onReset(_el));\r\n\r\n        if (retval && typeof retval.then === 'function') {\r\n          retval.then(() => _ptr.onReset(_el));\r\n        }\r\n\r\n        if (!retval && !_el.onRefresh.length) {\r\n          _ptr.onReset(_el);\r\n        }\r\n      }, _el.refreshTimeout);\r\n    } else {\r\n      if (_shared.state === 'refreshing') {\r\n        return;\r\n      }\r\n\r\n      _el.ptrElement.style[_el.cssProp] = '0px';\r\n\r\n      _shared.state = 'pending';\r\n    }\r\n\r\n    _ptr.update(_el);\r\n\r\n    _el.ptrElement.classList.remove(`${_el.classPrefix}release`);\r\n    _el.ptrElement.classList.remove(`${_el.classPrefix}pull`);\r\n\r\n    _shared.pullStartY = _shared.pullMoveY = null;\r\n    _shared.dist = _shared.distResisted = 0;\r\n  }\r\n\r\n  function _onScroll() {\r\n    if (_el) {\r\n      _el.mainElement.classList.toggle(`${_el.classPrefix}top`, _el.shouldPullToRefresh());\r\n    }\r\n  }\r\n\r\n  const _passiveSettings = _shared.supportsPassive\r\n    ? { passive: _shared.passive || false }\r\n    : undefined;\r\n\r\n  if (_shared.pointerEventsEnabled && _shared.supportsPointerEvents) {\r\n    window.addEventListener('pointerup', _onTouchEnd);\r\n    window.addEventListener('pointerdown', _onTouchStart);\r\n    window.addEventListener('pointermove', _onTouchMove, _passiveSettings);\r\n  } else {\r\n    window.addEventListener('touchend', _onTouchEnd);\r\n    window.addEventListener('touchstart', _onTouchStart);\r\n    window.addEventListener('touchmove', _onTouchMove, _passiveSettings);\r\n  }\r\n\r\n  window.addEventListener('scroll', _onScroll);\r\n\r\n  return {\r\n    onTouchEnd: _onTouchEnd,\r\n    onTouchStart: _onTouchStart,\r\n    onTouchMove: _onTouchMove,\r\n    onScroll: _onScroll,\r\n\r\n    destroy() {\r\n      if (_shared.pointerEventsEnabled && _shared.supportsPointerEvents) {\r\n        window.removeEventListener('pointerdown', _onTouchStart);\r\n        window.removeEventListener('pointerup', _onTouchEnd);\r\n        window.removeEventListener('pointermove', _onTouchMove, _passiveSettings);\r\n      } else {\r\n        window.removeEventListener('touchstart', _onTouchStart);\r\n        window.removeEventListener('touchend', _onTouchEnd);\r\n        window.removeEventListener('touchmove', _onTouchMove, _passiveSettings);\r\n      }\r\n\r\n      window.removeEventListener('scroll', _onScroll);\r\n    },\r\n  };\r\n};\r\n","import _shared from './shared';\r\n\r\nfunction setupDOM(handler) {\r\n  if (!handler.ptrElement) {\r\n    const ptr = document.createElement('div');\r\n    if ((document.querySelector('mosaic-container[navbar]') && document.querySelector('mosaic-container[navbar]').hasAttribute('fixed'))\r\n    || (document.querySelector('mosaic-navbar') && document.querySelector('mosaic-navbar').hasAttribute('fixed-top'))) {\r\n      if (document.querySelector('mosaic-container[navbar]')) {\r\n        document.querySelector('mosaic-container[inner]').insertBefore(ptr, document.querySelector('mosaic-container[inner]').firstChild);\r\n      } else {\r\n        document.querySelector('mosaic-content-container').insertBefore(ptr, document.querySelector('mosaic-content-container').firstChild);\r\n      }\r\n    }\r\n    else if (handler.mainElement !== document.body) {\r\n      handler.mainElement.parentNode.insertBefore(ptr, handler.mainElement);\r\n    } else {\r\n      document.body.insertBefore(ptr, document.body.firstChild);\r\n    }\r\n    ptr.classList.add(`${handler.classPrefix}ptr`);\r\n    // ptr.innerHTML = handler.getMarkup()\r\n    //   .replace(/__PREFIX__/g, handler.classPrefix);\r\n\r\n    handler.ptrElement = ptr;\r\n\r\n    if (typeof handler.onInit === 'function') {\r\n      handler.onInit(handler);\r\n    }\r\n\r\n    // Add the css styles to the style node, and then\r\n    // insert it into the dom\r\n    if (!_shared.styleEl) {\r\n      _shared.styleEl = document.createElement('style');\r\n      _shared.styleEl.setAttribute('id', 'pull-to-refresh-js-style');\r\n\r\n      document.head.appendChild(_shared.styleEl);\r\n    }\r\n\r\n    _shared.styleEl.textContent = handler.getStyles()\r\n      .replace(/__PREFIX__/g, handler.classPrefix)\r\n      .replace(/\\s+/g, ' ');\r\n  }\r\n\r\n  return handler;\r\n}\r\n\r\nfunction onReset(handler) {\r\n  handler.ptrElement.classList.remove(`${handler.classPrefix}refresh`);\r\n  handler.ptrElement.style[handler.cssProp] = '0px';\r\n\r\n  setTimeout(() => {\r\n    // remove previous ptr-element from DOM\r\n    if (handler.ptrElement && handler.ptrElement.parentNode) {\r\n      handler.ptrElement.parentNode.removeChild(handler.ptrElement);\r\n      handler.ptrElement = null;\r\n    }\r\n\r\n    // reset state\r\n    _shared.state = 'pending';\r\n  }, handler.refreshTimeout);\r\n}\r\n\r\nfunction update(handler) {\r\n  const iconEl = handler.ptrElement.querySelector(`.${handler.classPrefix}icon`);\r\n  const textEl = handler.ptrElement.querySelector(`.${handler.classPrefix}text`);\r\n\r\n  if (iconEl) {\r\n    if (_shared.state === 'refreshing') {\r\n      iconEl.innerHTML = handler.iconRefreshing;\r\n    } else {\r\n      iconEl.innerHTML = handler.iconArrow;\r\n    }\r\n  }\r\n\r\n  if (textEl) {\r\n    if (_shared.state === 'releasing') {\r\n      textEl.innerHTML = handler.instructionsReleaseToRefresh;\r\n    }\r\n\r\n    if (_shared.state === 'pulling' || _shared.state === 'pending') {\r\n      textEl.innerHTML = handler.instructionsPullToRefresh;\r\n    }\r\n\r\n    if (_shared.state === 'refreshing') {\r\n      textEl.innerHTML = handler.instructionsRefreshing;\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  setupDOM,\r\n  onReset,\r\n  update,\r\n};\r\n","import _ptrMarkup from './markup';\r\nimport _ptrStyles from './styles';\r\n\r\nexport default {\r\n  distThreshold: 60,\r\n  distMax: 80,\r\n  distReload: 50,\r\n  distIgnore: 0,\r\n  mainElement: 'body',\r\n  triggerElement: 'body',\r\n  ptrElement: '.ptr',\r\n  classPrefix: 'ptr--',\r\n  cssProp: 'min-height',\r\n  iconArrow: '&#8675;',\r\n  iconRefreshing: '&hellip;',\r\n  instructionsPullToRefresh: 'Pull down to refresh',\r\n  instructionsReleaseToRefresh: 'Release to refresh',\r\n  instructionsRefreshing: 'Refreshing',\r\n  refreshTimeout: 500,\r\n  getMarkup: () => _ptrMarkup,\r\n  getStyles: () => _ptrStyles,\r\n  onInit: () => {},\r\n  onRefresh: () => location.reload(),\r\n  resistanceFunction: t => Math.min(1, t / 2.5),\r\n  shouldPullToRefresh: () => !window.scrollY,\r\n};\r\n","export default `\r\n<div class=\"__PREFIX__box\">\r\n  <div class=\"__PREFIX__content\">\r\n    <div class=\"__PREFIX__icon\"></div>\r\n    <div class=\"__PREFIX__text\"></div>\r\n  </div>\r\n</div>\r\n`;\r\n","export default `\r\n.__PREFIX__ptr {\r\n  pointer-events: none;\r\n  font-size: 0.85em;\r\n  font-weight: bold;\r\n  top: 0;\r\n  height: 0;\r\n  transition: height 0.3s, min-height 0.3s;\r\n  text-align: center;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  align-content: stretch;\r\n}\r\n\r\n.__PREFIX__box {\r\n  padding: 10px;\r\n  flex-basis: 100%;\r\n}\r\n\r\n.__PREFIX__pull {\r\n  transition: none;\r\n}\r\n\r\n.__PREFIX__text {\r\n  margin-top: .33em;\r\n  color: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.__PREFIX__icon {\r\n  color: rgba(0, 0, 0, 0.3);\r\n  transition: transform .3s;\r\n}\r\n\r\n/*\r\nWhen at the top of the page, disable vertical overscroll so passive touch\r\nlisteners can take over.\r\n*/\r\n.__PREFIX__top {\r\n  touch-action: pan-x pan-down pinch-zoom;\r\n}\r\n\r\n.__PREFIX__release .__PREFIX__icon {\r\n  transform: rotate(180deg);\r\n}\r\n`;\r\n","import _setupEvents from './events';\r\nimport _defaults from './defaults';\r\nimport _shared from './shared';\r\n\r\nconst _methods = ['mainElement', 'ptrElement', 'triggerElement'];\r\n\r\nexport default options => {\r\n  const _handler = {};\r\n\r\n  // merge options with defaults\r\n  Object.keys(_defaults).forEach(key => {\r\n    _handler[key] = options[key] || _defaults[key];\r\n  });\r\n\r\n  // normalize timeout value, even if it is zero\r\n  _handler.refreshTimeout = typeof options.refreshTimeout === 'number'\r\n    ? options.refreshTimeout\r\n    : _defaults.refreshTimeout;\r\n\r\n  // normalize elements\r\n  _methods.forEach(method => {\r\n    if (typeof _handler[method] === 'string') {\r\n      _handler[method] = document.querySelector(_handler[method]);\r\n    }\r\n  });\r\n\r\n  // attach events lazily\r\n  if (!_shared.events) {\r\n    _shared.events = _setupEvents();\r\n  }\r\n\r\n  _handler.contains = target => {\r\n    return _handler.triggerElement.contains(target);\r\n  };\r\n\r\n  _handler.destroy = () => {\r\n    // stop pending any pending callbacks\r\n    clearTimeout(_shared.timeout);\r\n\r\n    // remove handler from shared state\r\n    const offset = _shared.handlers.indexOf(_handler);\r\n    _shared.handlers.splice(offset, 1);\r\n  };\r\n\r\n  return _handler;\r\n};\r\n","import _ptr from './api';\r\nimport _shared from './shared';\r\nimport _setupEvents from './events';\r\nimport _setupHandler from './setup';\r\n\r\n// public API\r\nexport default {\r\n  setPassiveMode(isPassive) {\r\n    _shared.passive = isPassive;\r\n  },\r\n  setPointerEventsMode(isEnabled) {\r\n    _shared.pointerEventsEnabled = isEnabled;\r\n  },\r\n  destroyAll() {\r\n    if (_shared.events) {\r\n      _shared.events.destroy();\r\n      _shared.events = null;\r\n    }\r\n\r\n    _shared.handlers.forEach(h => {\r\n      h.destroy();\r\n    });\r\n  },\r\n  init(options = {}) {\r\n    const handler = _setupHandler(options);\r\n\r\n    _shared.handlers.push(handler);\r\n\r\n    return handler;\r\n  },\r\n\r\n  // export utils for testing\r\n  _: {\r\n    setupHandler: _setupHandler,\r\n    setupEvents: _setupEvents,\r\n    setupDOM: _ptr.setupDOM,\r\n    onReset: _ptr.onReset,\r\n    update: _ptr.update,\r\n  },\r\n};\r\n"],"names":["const","_shared","pullStartY","pullMoveY","handlers","styleEl","events","dist","state","timeout","distResisted","supportsPassive","supportsPointerEvents","window","PointerEvent","addEventListener","e","_timeout","handler","ptrElement","ptr","document","createElement","querySelector","hasAttribute","insertBefore","firstChild","mainElement","body","parentNode","classList","add","onInit","setAttribute","head","appendChild","textContent","getStyles","replace","classPrefix","remove","style","cssProp","setTimeout","removeChild","refreshTimeout","iconEl","textEl","innerHTML","iconRefreshing","iconArrow","instructionsReleaseToRefresh","instructionsPullToRefresh","instructionsRefreshing","screenY","event","pointerEventsEnabled","touches","_el","_onTouchStart","target","filter","h","contains","enable","_ptr","setupDOM","shouldPullToRefresh","clearTimeout","update","_onTouchMove","distExtra","distIgnore","cancelable","preventDefault","resistanceFunction","distThreshold","Math","min","distMax","_onTouchEnd","onReset","retval","onRefresh","then","length","_onScroll","toggle","_passiveSettings","passive","undefined","onTouchEnd","onTouchStart","onTouchMove","onScroll","destroy","removeEventListener","distReload","triggerElement","getMarkup","location","reload","t","scrollY","_methods","options","_handler","Object","keys","_defaults","forEach","key","method","_setupEvents","offset","indexOf","splice","setPassiveMode","isPassive","setPointerEventsMode","isEnabled","destroyAll","init","_setupHandler","push","_","setupHandler","setupEvents"],"mappings":"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"}